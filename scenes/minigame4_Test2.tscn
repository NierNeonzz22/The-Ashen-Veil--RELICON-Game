[gd_scene load_steps=41 format=3 uid="uid://11cp6lp4q5sp"]

[ext_resource type="Texture2D" uid="uid://bs8udcl3lck65" path="res://assets/assets_minigame4/minigame4.png" id="1_ouo5j"]
[ext_resource type="Script" uid="uid://d2mwx300kytx7" path="res://scripts/sliding_puzzlemanager.gd" id="2_3hmwq"]
[ext_resource type="Texture2D" uid="uid://b4himuqwh4dnx" path="res://assets/assets_minigame4/00.png" id="2_lrhcg"]
[ext_resource type="Texture2D" uid="uid://b0klug2y5no7q" path="res://assets/assets_minigame4/01.png" id="3_3hmwq"]
[ext_resource type="PackedScene" uid="uid://dvngncmxe25vy" path="res://Gem_2.tscn" id="3_ppnyi"]
[ext_resource type="Texture2D" uid="uid://cyjl8eyllc56t" path="res://assets/assets_minigame4/02.png" id="4_wxurk"]
[ext_resource type="PackedScene" uid="uid://cf38e73ldd45w" path="res://scenes/label_instruction.tscn" id="5_dotgx"]
[ext_resource type="Texture2D" uid="uid://d1jahhvmh8a8e" path="res://assets/assets_minigame4/10.png" id="5_s8045"]
[ext_resource type="Texture2D" uid="uid://c6b5kb6xhj66o" path="res://assets/assets_minigame4/11.png" id="6_ppnyi"]
[ext_resource type="Texture2D" uid="uid://wn6i44h6q08l" path="res://assets/assets_minigame4/12.png" id="7_c0c1n"]
[ext_resource type="PackedScene" uid="uid://l435jaidwcf4" path="res://scenes/timer_ui.tscn" id="7_ouo5j"]
[ext_resource type="Texture2D" uid="uid://b16avmye3tch5" path="res://assets/assets_minigame4/20.png" id="8_tiqqe"]
[ext_resource type="Texture2D" uid="uid://ccek0myonnrkw" path="res://assets/assets_minigame4/21.png" id="9_mdm0o"]
[ext_resource type="Texture2D" uid="uid://dej50y8iagk76" path="res://assets/assets_minigame4/22.png" id="11_wxurk"]
[ext_resource type="Texture2D" uid="uid://5uhppgshay1" path="res://assets/assets_minigame4/LOTUS FULL.png" id="12_s8045"]
[ext_resource type="Script" uid="uid://bbi0aiygulkhi" path="res://scripts/tristan_gameplaymoveset.gd" id="14_tiqqe"]
[ext_resource type="Texture2D" uid="uid://r2ughrtiehix" path="res://assets/sprites/SHIT NI TRISTAN ADJUSTED HEIGHT (2).png" id="16_mdm0o"]
[ext_resource type="Texture2D" uid="uid://btrrto1qjwavn" path="res://assets/sprites/spirit_sprite_sheet.png" id="17_at5qs"]
[ext_resource type="AudioStream" uid="uid://cm7o2s8rfgyv" path="res://sfx/Ost/3the_mysterious_lake_dont_swim.mp3" id="19_ouo5j"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_at5qs"]
size = Vector2(86.333305, 87)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dotgx"]
size = Vector2(7, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_j6fwm"]
atlas = ExtResource("16_mdm0o")
region = Rect2(88, 0, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_117fq"]
atlas = ExtResource("16_mdm0o")
region = Rect2(132, 0, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_jfe4f"]
atlas = ExtResource("16_mdm0o")
region = Rect2(0, 0, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_x14rb"]
atlas = ExtResource("16_mdm0o")
region = Rect2(0, 180, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_to8v4"]
atlas = ExtResource("16_mdm0o")
region = Rect2(0, 90, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_cmrvr"]
atlas = ExtResource("16_mdm0o")
region = Rect2(44, 0, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_ias47"]
atlas = ExtResource("16_mdm0o")
region = Rect2(0, 180, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_7lbsg"]
atlas = ExtResource("16_mdm0o")
region = Rect2(44, 180, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_b3qin"]
atlas = ExtResource("16_mdm0o")
region = Rect2(88, 180, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_vd0iq"]
atlas = ExtResource("16_mdm0o")
region = Rect2(132, 180, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_pdq0l"]
atlas = ExtResource("16_mdm0o")
region = Rect2(0, 90, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_b5xoe"]
atlas = ExtResource("16_mdm0o")
region = Rect2(44, 90, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_i4sc1"]
atlas = ExtResource("16_mdm0o")
region = Rect2(88, 90, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_fsl67"]
atlas = ExtResource("16_mdm0o")
region = Rect2(132, 90, 44, 90)

[sub_resource type="AtlasTexture" id="AtlasTexture_le8ar"]
atlas = ExtResource("16_mdm0o")
region = Rect2(44, 0, 44, 90)

[sub_resource type="SpriteFrames" id="SpriteFrames_at5qs"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_j6fwm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_117fq")
}],
"loop": true,
"name": &"Down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jfe4f")
}],
"loop": true,
"name": &"Idle_Down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_x14rb")
}],
"loop": true,
"name": &"Idle_Left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_to8v4")
}],
"loop": true,
"name": &"Idle_Right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_cmrvr")
}],
"loop": true,
"name": &"Idle_Up",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ias47")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7lbsg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b3qin")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vd0iq")
}],
"loop": true,
"name": &"Left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_pdq0l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b5xoe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i4sc1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fsl67")
}],
"loop": true,
"name": &"Right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_le8ar")
}],
"loop": true,
"name": &"Up",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_dotgx"]
atlas = ExtResource("17_at5qs")
region = Rect2(0, 160, 80, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_ouo5j"]
atlas = ExtResource("17_at5qs")
region = Rect2(80, 160, 80, 80)

[sub_resource type="SpriteFrames" id="SpriteFrames_hhdne"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dotgx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ouo5j")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="Node2D" type="Node2D"]

[node name="Minigame4_map" type="Sprite2D" parent="."]
position = Vector2(566, 331)
scale = Vector2(0.58, 0.58)
texture = ExtResource("1_ouo5j")

[node name="MG4_Walls" type="StaticBody2D" parent="Minigame4_map"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Minigame4_map/MG4_Walls"]
position = Vector2(184.48276, -36.20688)
build_mode = 1
polygon = PackedVector2Array(536, -400, 550, -123, 696, -90, 709, 198, 549, 196, 544, 512, -861, 520, -884, 357, -1078, 362, -1081, 111, -899.9091, 125.81818, -887, -408, -805, -440, 421, -443)

[node name="PuzzleManager" type="Node2D" parent="." node_paths=PackedStringArray("puzzle_pieces", "final_piece", "complete_image")]
script = ExtResource("2_3hmwq")
puzzle_pieces = [NodePath("../Node2D/Piece1"), NodePath("../Node2D/Piece2"), NodePath("../Node2D/Piece3"), NodePath("../Node2D/Piece4"), NodePath("../Node2D/Piece6"), NodePath("../Node2D/Piece7"), NodePath("../Node2D/Piece8"), NodePath("../Node2D/Piece9"), null]
final_piece = NodePath("../Node2D/Piece5")
complete_image = NodePath("../CanvasLayer/CompleteImage")
victory_gem = ExtResource("3_ppnyi")
timer_duration = 90.0
timer_ui_scene = ExtResource("7_ouo5j")
instruction_label_scene = ExtResource("5_dotgx")
test_mode = false

[node name="Node2D" type="Node2D" parent="."]
position = Vector2(357, 137)

[node name="Piece1" type="Area2D" parent="Node2D"]
position = Vector2(64, 64)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/Piece1"]
scale = Vector2(1.5, 1.5)
shape = SubResource("RectangleShape2D_at5qs")

[node name="Sprite2D" type="Sprite2D" parent="Node2D/Piece1"]
scale = Vector2(0.521, 0.521)
texture = ExtResource("2_lrhcg")

[node name="Piece2" type="Area2D" parent="Node2D"]
position = Vector2(208, 64)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/Piece2"]
scale = Vector2(1.5, 1.5)
shape = SubResource("RectangleShape2D_at5qs")

[node name="Sprite2D" type="Sprite2D" parent="Node2D/Piece2"]
scale = Vector2(0.521, 0.521)
texture = ExtResource("5_s8045")

[node name="Piece3" type="Area2D" parent="Node2D"]
position = Vector2(354, 64)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/Piece3"]
scale = Vector2(1.5, 1.5)
shape = SubResource("RectangleShape2D_at5qs")

[node name="Sprite2D" type="Sprite2D" parent="Node2D/Piece3"]
scale = Vector2(0.521, 0.521)
texture = ExtResource("8_tiqqe")

[node name="Piece4" type="Area2D" parent="Node2D"]
position = Vector2(64, 208)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/Piece4"]
scale = Vector2(1.5, 1.5)
shape = SubResource("RectangleShape2D_at5qs")

[node name="Sprite2D" type="Sprite2D" parent="Node2D/Piece4"]
scale = Vector2(0.521, 0.521)
texture = ExtResource("3_3hmwq")

[node name="Piece5" type="Area2D" parent="Node2D"]
position = Vector2(208, 208)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/Piece5"]
scale = Vector2(1.5, 1.5)
shape = SubResource("RectangleShape2D_at5qs")

[node name="Sprite2D" type="Sprite2D" parent="Node2D/Piece5"]
scale = Vector2(0.521, 0.521)
texture = ExtResource("6_ppnyi")

[node name="Piece6" type="Area2D" parent="Node2D"]
position = Vector2(354, 208)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/Piece6"]
scale = Vector2(1.5, 1.5)
shape = SubResource("RectangleShape2D_at5qs")

[node name="Sprite2D" type="Sprite2D" parent="Node2D/Piece6"]
scale = Vector2(0.521, 0.521)
texture = ExtResource("9_mdm0o")

[node name="Piece7" type="Area2D" parent="Node2D"]
position = Vector2(64, 354)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/Piece7"]
scale = Vector2(1.5, 1.5)
shape = SubResource("RectangleShape2D_at5qs")

[node name="Sprite2D" type="Sprite2D" parent="Node2D/Piece7"]
scale = Vector2(0.521, 0.521)
texture = ExtResource("4_wxurk")

[node name="Piece8" type="Area2D" parent="Node2D"]
position = Vector2(208, 354)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/Piece8"]
scale = Vector2(1.5, 1.5)
shape = SubResource("RectangleShape2D_at5qs")

[node name="Sprite2D" type="Sprite2D" parent="Node2D/Piece8"]
scale = Vector2(0.521, 0.521)
texture = ExtResource("7_c0c1n")

[node name="Piece9" type="Area2D" parent="Node2D"]
position = Vector2(354, 354)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/Piece9"]
scale = Vector2(1.5, 1.5)
shape = SubResource("RectangleShape2D_at5qs")

[node name="Sprite2D" type="Sprite2D" parent="Node2D/Piece9"]
scale = Vector2(0.521, 0.521)
texture = ExtResource("11_wxurk")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="CompleteImage" type="Sprite2D" parent="CanvasLayer"]
position = Vector2(-301, 327)
scale = Vector2(0.56, 0.565)
texture = ExtResource("12_s8045")

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(819, 137)
build_mode = 1
polygon = PackedVector2Array(-33, 430, -492, 437, -472, -16, -30, -12)

[node name="Tristan_gameplay" type="CharacterBody2D" parent="."]
position = Vector2(178, 429)
script = ExtResource("14_tiqqe")
base_speed = 100.0
run_bonus = 150.0

[node name="PullRay" type="RayCast2D" parent="Tristan_gameplay"]
top_level = true
position = Vector2(561, 78)
target_position = Vector2(46, 3)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Tristan_gameplay"]
position = Vector2(2, 1)
shape = SubResource("RectangleShape2D_dotgx")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Tristan_gameplay"]
texture_filter = 1
position = Vector2(0, 10)
scale = Vector2(0.65, 0.65)
sprite_frames = SubResource("SpriteFrames_at5qs")
animation = &"Idle_Up"

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(107, 438.00003)
scale = Vector2(0.75, 0.75)
sprite_frames = SubResource("SpriteFrames_hhdne")
autoplay = "default"

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
position = Vector2(107, 438.00003)
scale = Vector2(0.75, 0.75)
stream = ExtResource("19_ouo5j")
autoplay = true
parameters/looping = true
